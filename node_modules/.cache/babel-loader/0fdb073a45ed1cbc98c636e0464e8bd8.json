{"ast":null,"code":"var _jsxFileName = \"D:\\\\Git\\\\pic\\\\pic-share\\\\src\\\\pages\\\\story.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState } from \"react\";\nimport HeadCon from \"../containers/newheader\";\nimport { useParams, useNavigate } from 'react-router-dom';\nimport useContent from '../hook/use-content';\nimport { Story } from \"../component\";\nimport Parser from 'html-react-parser';\nimport * as ROUTES from '../config/router';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nexport default function StoryPage(children) {\n  _s();\n\n  const {\n    storyid,\n    chapterid\n  } = useParams();\n  const [valclick, SetClick] = useState(false);\n  const [selectedchapter, SetChapter] = useState(chapterid - 1 || 0);\n  const history = useNavigate();\n  const content = useContent(`story/${storyid}`);\n  let chapter = content !== null && content !== void 0 && content.name ? content.chapters[chapterid - 1 || 0] : null;\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(HeadCon, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 21,\n      columnNumber: 17\n    }, this), content !== null && content !== void 0 && content.name ? /*#__PURE__*/_jsxDEV(Story, {\n      children: [/*#__PURE__*/_jsxDEV(Story.HeaderCon, {\n        useclick: valclick,\n        children: [/*#__PURE__*/_jsxDEV(Story.ButtonContainer, {\n          children: /*#__PURE__*/_jsxDEV(Story.PageButton, {\n            onClick: () => SetClick(prevCheck => !prevCheck),\n            children: \"Chapter Index\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 25,\n            columnNumber: 29\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 24,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(Story.ButtonContainer, {\n          children: /*#__PURE__*/_jsxDEV(Story.Dropdown, {\n            children: [/*#__PURE__*/_jsxDEV(Story.Select, {\n              onChange: e => {\n                SetChapter(e.target.value);\n              },\n              value: chapter.num,\n              children: content.chapters.map(chapternum => {\n                return /*#__PURE__*/_jsxDEV(Story.Option, {\n                  value: chapternum.num,\n                  children: chapternum.content.title\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 34,\n                  columnNumber: 49\n                }, this);\n              })\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 29,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(Story.PageButton, {\n              onClick: () => history(`${ROUTES.STORY}/${storyid}/${ROUTES.CHAPTER}/${chapterid}`),\n              children: \"Go to\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 39,\n              columnNumber: 33\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 28,\n            columnNumber: 29\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 27,\n          columnNumber: 25\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 23,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(Story.Meta, {\n        children: [/*#__PURE__*/_jsxDEV(Story.Title, {\n          children: content.name\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 44,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(Story.Link, {\n          to: `${ROUTES.PROFILE}/${content.user.username}`,\n          children: content.user.username\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 45,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(Story.BorderCon, {\n          children: /*#__PURE__*/_jsxDEV(Story.Text, {\n            children: Parser(content.summary)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 47,\n            columnNumber: 29\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 46,\n          columnNumber: 25\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 43,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(Story.ChapterHeader, {\n        children: chapter.content.title\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(Story.Text, {\n        children: Parser(chapter.content.content)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(Story.ButtonContainer, {\n        children: content.chapters[chapterid + 1] && /*#__PURE__*/_jsxDEV(Story.PageButton, {\n          to: `${ROUTES.STORY}/${storyid}/${ROUTES.CHAPTER}/${chapterid + 1}`,\n          children: \"Next Chapter\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 54,\n          columnNumber: 25\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 21\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 22,\n      columnNumber: 34\n    }, this) : null]\n  }, void 0, true);\n}\n\n_s(StoryPage, \"76RyJa/c9gcchbbNGjhFFsjdsE8=\", false, function () {\n  return [useParams, useNavigate, useContent];\n});\n\n_c = StoryPage;\n\nvar _c;\n\n$RefreshReg$(_c, \"StoryPage\");","map":{"version":3,"names":["React","useState","HeadCon","useParams","useNavigate","useContent","Story","Parser","ROUTES","StoryPage","children","storyid","chapterid","valclick","SetClick","selectedchapter","SetChapter","history","content","chapter","name","chapters","prevCheck","e","target","value","num","map","chapternum","title","STORY","CHAPTER","PROFILE","user","username","summary"],"sources":["D:/Git/pic/pic-share/src/pages/story.js"],"sourcesContent":["import React, {useState} from \"react\";\r\nimport HeadCon from \"../containers/newheader\";\r\nimport { useParams, useNavigate } from 'react-router-dom';\r\nimport useContent from '../hook/use-content';\r\nimport { Story } from \"../component\";\r\nimport Parser from 'html-react-parser';\r\nimport * as ROUTES from '../config/router';\r\n\r\nexport default function StoryPage(children,...rest) {\r\n\r\n    const {storyid,chapterid} = useParams();\r\n    const [valclick,SetClick] = useState(false);\r\n    const [selectedchapter,SetChapter] = useState((chapterid - 1) || 0);\r\n    const history = useNavigate();\r\n\r\n    const content = useContent(`story/${storyid}`);\r\n    let chapter = content?.name ? content.chapters[(chapterid - 1) || 0] : null;\r\n\r\n    return (\r\n        <>\r\n                <HeadCon/>\r\n                {content?.name ? <Story>\r\n                    <Story.HeaderCon useclick={valclick}>\r\n                        <Story.ButtonContainer>\r\n                            <Story.PageButton onClick={() => SetClick(prevCheck => !prevCheck)}>Chapter Index</Story.PageButton>\r\n                        </Story.ButtonContainer>\r\n                        <Story.ButtonContainer>\r\n                            <Story.Dropdown>\r\n                                <Story.Select onChange={(e) => {\r\n                                    SetChapter(e.target.value);\r\n                                }}\r\n                                value={chapter.num}>\r\n                                    {content.chapters.map((chapternum) => {\r\n                                        return (<Story.Option value={chapternum.num}>\r\n                                                    {chapternum.content.title}\r\n                                        </Story.Option>)\r\n                                    })}\r\n                                </Story.Select>\r\n                                <Story.PageButton onClick={() => history(`${ROUTES.STORY}/${storyid}/${ROUTES.CHAPTER}/${chapterid}`)}>Go to</Story.PageButton>\r\n                            </Story.Dropdown>\r\n                        </Story.ButtonContainer>\r\n                    </Story.HeaderCon>\r\n                    <Story.Meta>\r\n                        <Story.Title>{content.name}</Story.Title>\r\n                        <Story.Link to={`${ROUTES.PROFILE}/${content.user.username}`}>{content.user.username}</Story.Link>\r\n                        <Story.BorderCon>\r\n                            <Story.Text>{Parser(content.summary)}</Story.Text>\r\n                        </Story.BorderCon>\r\n                    </Story.Meta>\r\n                    <Story.ChapterHeader>{chapter.content.title}</Story.ChapterHeader>\r\n                    <Story.Text>{Parser(chapter.content.content)}</Story.Text>\r\n                    <Story.ButtonContainer>\r\n                        {content.chapters[(chapterid + 1)] && \r\n                        <Story.PageButton to={`${ROUTES.STORY}/${storyid}/${ROUTES.CHAPTER}/${chapterid + 1}`}>Next Chapter</Story.PageButton>}\r\n                    </Story.ButtonContainer>\r\n                </Story> : null}\r\n        </>\r\n    )\r\n}"],"mappings":"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"},"metadata":{},"sourceType":"module"}